/* jshint loopfunc: true */// use jQuery and hoverIntent if loaded
if(typeof jQuery!="undefined"){typeof jQuery.fn.hoverIntent=="undefined"&&function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};typeof t=="object"?i=e.extend(i,t):e.isFunction(n)?i=e.extend(i,{over:t,out:n,selector:r}):i=e.extend(i,{over:t,out:t,selector:n});var s,o,u,f,l=function(e){s=e.pageX;o=e.pageY},c=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(f-o)<i.sensitivity){e(n).off("mousemove.hoverIntent",l);n.hoverIntent_s=1;return i.over.apply(n,[t])}u=s;f=o;n.hoverIntent_t=setTimeout(function(){c(t,n)},i.interval)},h=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])},p=function(t){var n=jQuery.extend({},t),r=this;r.hoverIntent_t&&(r.hoverIntent_t=clearTimeout(r.hoverIntent_t));if(t.type=="mouseenter"){u=n.pageX;f=n.pageY;e(r).on("mousemove.hoverIntent",l);r.hoverIntent_s!=1&&(r.hoverIntent_t=setTimeout(function(){c(n,r)},i.interval))}else{e(r).off("mousemove.hoverIntent",l);r.hoverIntent_s==1&&(r.hoverIntent_t=setTimeout(function(){h(n,r)},i.timeout))}};return this.on({"mouseenter.hoverIntent":p,"mouseleave.hoverIntent":p},i.selector)}}(jQuery);jQuery(document).ready(function(e){var t=e("#wpadminbar"),n,r,i,s=!1;n=function(t,n){var r=e(n),i=r.attr("tabindex");i&&r.attr("tabindex","0").attr("tabindex",i)};r=function(n){t.find("li.menupop").on("click.wp-mobile-hover",function(r){var i=e(this);if(i.parent().is("#wp-admin-bar-root-default")&&!i.hasClass("hover")){r.preventDefault();t.find("li.menupop.hover").removeClass("hover");i.addClass("hover")}else if(!i.hasClass("hover")){r.stopPropagation();r.preventDefault();i.addClass("hover")}if(n){e("li.menupop").off("click.wp-mobile-hover");s=!1}})};i=function(){var n=/Mobile\/.+Safari/.test(navigator.userAgent)?"touchstart":"click";e(document.body).on(n+".wp-mobile-hover",function(n){e(n.target).closest("#wpadminbar").length||t.find("li.menupop.hover").removeClass("hover")})};t.removeClass("nojq").removeClass("nojs");if("ontouchstart"in window){t.on("touchstart",function(){r(!0);s=!0});i()}else if(/IEMobile\/[1-9]/.test(navigator.userAgent)){r();i()}t.find("li.menupop").hoverIntent({over:function(){if(s)return;e(this).addClass("hover")},out:function(){if(s)return;e(this).removeClass("hover")},timeout:180,sensitivity:7,interval:100});window.location.hash&&window.scrollBy(0,-32);e("#wp-admin-bar-get-shortlink").click(function(t){t.preventDefault();e(this).addClass("selected").children(".shortlink-input").blur(function(){e(this).parents("#wp-admin-bar-get-shortlink").removeClass("selected")}).focus().select()});e("#wpadminbar li.menupop > .ab-item").bind("keydown.adminbar",function(t){if(t.which!=13)return;var r=e(t.target),i=r.closest("ab-sub-wrapper");t.stopPropagation();t.preventDefault();i.length||(i=e("#wpadminbar .quicklinks"));i.find(".menupop").removeClass("hover");r.parent().toggleClass("hover");r.siblings(".ab-sub-wrapper").find(".ab-item").each(n)}).each(n);e("#wpadminbar .ab-item").bind("keydown.adminbar",function(t){if(t.which!=27)return;var r=e(t.target);t.stopPropagation();t.preventDefault();r.closest(".hover").removeClass("hover").children(".ab-item").focus();r.siblings(".ab-sub-wrapper").find(".ab-item").each(n)});e("#wpadminbar").click(function(t){if(t.target.id!="wpadminbar"&&t.target.id!="wp-admin-bar-top-secondary")return;t.preventDefault();e("html, body").animate({scrollTop:0},"fast")});e(".screen-reader-shortcut").keydown(function(t){var n,r;if(13!=t.which)return;n=e(this).attr("href");r=navigator.userAgent.toLowerCase();r.indexOf("applewebkit")!=-1&&n&&n.charAt(0)=="#"&&setTimeout(function(){e(n).focus()},100)});"sessionStorage"in window&&e("#wp-admin-bar-logout a").click(function(){try{for(var e in sessionStorage)e.indexOf("wp-autosave-")!=-1&&sessionStorage.removeItem(e)}catch(t){}});navigator.userAgent&&document.body.className.indexOf("no-font-face")===-1&&/Android (1.0|1.1|1.5|1.6|2.0|2.1)|Nokia|Opera Mini|w(eb)?OSBrowser|webOS|UCWEB|Windows Phone OS 7|XBLWP7|ZuneWP7|MSIE 7/.test(navigator.userAgent)&&(document.body.className+=" no-font-face")})}else(function(e,t){var n=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){return n.call(e,window.event)})},r,i=new RegExp("\\bhover\\b","g"),s=[],o=new RegExp("\\bselected\\b","g"),u=function(e){var t=s.length;while(t--)if(s[t]&&e==s[t][1])return s[t][0];return!1},a=function(t){var n,a,f,l,c,h,p=[],v=0;while(t&&t!=r&&t!=e){if("LI"==t.nodeName.toUpperCase()){p[p.length]=t;a=u(t);a&&clearTimeout(a);t.className=t.className?t.className.replace(i,"")+" hover":"hover";l=t}t=t.parentNode}if(l&&l.parentNode){c=l.parentNode;if(c&&"UL"==c.nodeName.toUpperCase()){n=c.childNodes.length;while(n--){h=c.childNodes[n];h!=l&&(h.className=h.className?h.className.replace(o,""):"")}}}n=s.length;while(n--){f=!1;v=p.length;while(v--)p[v]==s[n][1]&&(f=!0);f||(s[n][1].className=s[n][1].className?s[n][1].className.replace(i,""):"")}},f=function(t){while(t&&t!=r&&t!=e){"LI"==t.nodeName.toUpperCase()&&function(e){var t=setTimeout(function(){e.className=e.className?e.className.replace(i,""):""},500);s[s.length]=[t,e]}(t);t=t.parentNode}},l=function(t){var n,i,s,u=t.target||t.srcElement;for(;;){if(!u||u==e||u==r)return;if(u.id&&u.id=="wp-admin-bar-get-shortlink")break;u=u.parentNode}t.preventDefault&&t.preventDefault();t.returnValue=!1;-1==u.className.indexOf("selected")&&(u.className+=" selected");for(n=0,i=u.childNodes.length;n<i;n++){s=u.childNodes[n];if(s.className&&-1!=s.className.indexOf("shortlink-input")){s.focus();s.select();s.onblur=function(){u.className=u.className?u.className.replace(o,""):""};break}}return!1},c=function(e){var t,n,r,i,s,o;if(e.id!="wpadminbar"&&e.id!="wp-admin-bar-top-secondary")return;t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(t<1)return;o=t>800?130:100;n=Math.min(12,Math.round(t/o));r=t>800?Math.round(t/30):Math.round(t/20);i=[];s=0;while(t){t-=r;t<0&&(t=0);i.push(t);setTimeout(function(){window.scrollTo(0,i.shift())},s*n);s++}};n(t,"load",function(){r=e.getElementById("wpadminbar");if(e.body&&r){e.body.appendChild(r);r.className&&(r.className=r.className.replace(/nojs/,""));n(r,"mouseover",function(e){a(e.target||e.srcElement)});n(r,"mouseout",function(e){f(e.target||e.srcElement)});n(r,"click",l);n(r,"click",function(e){c(e.target||e.srcElement)});n(document.getElementById("wp-admin-bar-logout"),"click",function(){if("sessionStorage"in window)try{for(var e in sessionStorage)e.indexOf("wp-autosave-")!=-1&&sessionStorage.removeItem(e)}catch(t){}})}t.location.hash&&t.scrollBy(0,-32);navigator.userAgent&&document.body.className.indexOf("no-font-face")===-1&&/Android (1.0|1.1|1.5|1.6|2.0|2.1)|Nokia|Opera Mini|w(eb)?OSBrowser|webOS|UCWEB|Windows Phone OS 7|XBLWP7|ZuneWP7|MSIE 7/.test(navigator.userAgent)&&(document.body.className+=" no-font-face")})})(document,window);